<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      text-align: center;
      padding: 40px;
    }
    h1 {
      margin-bottom: 30px;
    }
    .section {
      margin-bottom: 25px;
    }
    button {
      margin: 5px;
      padding: 8px 14px;
      border: none;
      border-radius: 20px;
      background: white;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    button.active {
      background: black;
      color: white;
    }
    #result {
      margin-top: 40px;
      font-size: 24px;
      font-weight: bold;
    }
    .start-btn {
      margin-top: 20px;
      padding: 12px 20px;
      background: black;
      color: white;
      border-radius: 30px;
    }
  </style>
</head>
<body>

  <h1>ğŸš ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</h1>

  <div class="section">
    <h3>ìƒí™© ì„ íƒ (ì„ íƒ ì•ˆ í•´ë„ ë¨)</h3>
    <div id="include"></div>
  </div>

  <div class="section">
    <h3>ì œì™¸í•  ê²ƒ</h3>
    <div id="exclude"></div>
  </div>

  <button class="start-btn" onclick="recommend()">ì¶”ì²œ ë°›ê¸°</button>

  <div id="result"></div>

<script>
const foods = [
  { name: "ë¼ë©´", tags: ["ê°€ë³ê²Œ", "ìê·¹", "í•œì‹", "ë©´"] },
  { name: "ì¹˜í‚¨", tags: ["ìˆ ê°", "ê¸°ë¦„ì§", "íŠ€ê¹€", "í•œì‹"] },
  { name: "ì´ˆë°¥", tags: ["ë“ ë“ ", "ì¼ì‹", "ë°¥"] },
  { name: "ë§ˆë¼íƒ•", tags: ["ìê·¹", "ì¤‘ì‹"] },
  { name: "ìƒëŸ¬ë“œ", tags: ["ê°€ë³ê²Œ", "ë‹¤ì´ì–´íŠ¸"] },
  { name: "ì œìœ¡ë³¶ìŒ", tags: ["ë“ ë“ ", "ìê·¹", "í•œì‹"] }
];

const includeTags = ["ë“ ë“ ", "ê°€ë³ê²Œ", "ìˆ ê°", "ìê·¹", "ë‹¤ì´ì–´íŠ¸"];
const excludeTags = ["ë©´", "ë°¥", "íŠ€ê¹€"];

let selectedInclude = [];
let selectedExclude = [];

function createButtons(tags, containerId, selectedArray) {
  const container = document.getElementById(containerId);
  tags.forEach(tag => {
    const btn = document.createElement("button");
    btn.innerText = tag;
    btn.onclick = () => {
      btn.classList.toggle("active");
      if (selectedArray.includes(tag)) {
        selectedArray.splice(selectedArray.indexOf(tag), 1);
      } else {
        selectedArray.push(tag);
      }
    };
    container.appendChild(btn);
  });
}

createButtons(includeTags, "include", selectedInclude);
createButtons(excludeTags, "exclude", selectedExclude);

function recommend() {
  let filtered = foods.filter(food =>
    selectedInclude.every(tag => food.tags.includes(tag)) &&
    selectedExclude.every(tag => !food.tags.includes(tag))
  );

  if (filtered.length === 0) {
    document.getElementById("result").innerText = "ì¡°ê±´ì— ë§ëŠ” ìŒì‹ì´ ì—†ìŒ ã… ";
    return;
  }

  const random = filtered[Math.floor(Math.random() * filtered.length)];
  document.getElementById("result").innerText = "ğŸ‘‰ " + random.name;
}
</script>

</body>
</html>
